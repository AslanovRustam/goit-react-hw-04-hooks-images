(this["webpackJsonpgoit-react-hw-03-image-finde"]=this["webpackJsonpgoit-react-hw-03-image-finde"]||[]).push([[0],{10:function(e,t,n){e.exports={Overlay:"modal_Overlay__2nrvV",largeImage:"modal_largeImage__1ASpg"}},17:function(e,t,n){},21:function(e,t,n){e.exports={error:"imageErrorView_error__1vxCX",defaultNotifeImages:"imageErrorView_defaultNotifeImages__3hPfJ",imageClass:"imageErrorView_imageClass__2Z7te"}},24:function(e,t,n){e.exports={ImageGallery:"imagegallery_ImageGallery__34v66"}},26:function(e,t,n){e.exports={Button:"button_Button__2ChCb"}},28:function(e,t,n){e.exports={loader:"loader_loader__inked"}},36:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(0),c=n.n(r),o=n(3),s=n.n(o),i=(n(17),n(4)),l=(n(36),n(9));n(37);var u=function(e){var t=e.onSubmit,n=Object(r.useState)(""),c=Object(i.a)(n,2),o=c[0],s=c[1];return Object(a.jsx)("header",{className:"Searchbar",children:Object(a.jsxs)("form",{className:"SearchForm",onSubmit:function(e){e.preventDefault(),""!==o.trim()?(t(o),s("")):Object(l.b)("Please enter the query !")},children:[Object(a.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(a.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(a.jsx)("input",{className:"SearchForm-input",type:"text",name:"imageName",value:o,onChange:function(e){s(e.currentTarget.value.toLowerCase())},autocomplete:"off",autofocus:!0,placeholder:"Search images and photos"})]})})},m=n(16),j=n.p+"static/media/error.db3241d5.jpg",b=n(21),d=n.n(b);function g(e){e.message;return Object(a.jsxs)("div",{children:[Object(a.jsx)("img",{className:d.a.error,src:j}),Object(a.jsx)("p",{children:"No such image finded..."})]})}var f=n(22),h=n(23),O=n(30),p=n(29),v=n(10),x=n.n(v),y=document.querySelector("#modal-root"),_=function(e){Object(O.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(f.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handleKeyDown=function(t){"Escape"===t.code&&e.props.onClose()},e.handleBackdropClick=function(t){t.currentTarget===t.target&&e.props.onClose()},e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){console.log("Modal componentDidMount"),window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){console.log("Modal componentWillUnmount"),window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){var e=this.props,t=e.src,n=e.alt;return Object(o.createPortal)(Object(a.jsx)("div",{className:x.a.Overlay,onClick:this.handleBackdropClick,children:Object(a.jsx)("div",{className:x.a.Modal,children:Object(a.jsx)("img",{className:x.a.largeImage,src:t,alt:n})})}),y)}}]),n}(r.Component);function w(e){var t=e.src,n=e.alt,c=e.largeImageUrl,o=Object(r.useState)(!1),s=Object(i.a)(o,2),l=s[0],u=s[1],m=function(){return u(!l)};return Object(a.jsxs)("li",{className:"ImageGalleryItem",children:[Object(a.jsx)("img",{src:t,alt:n,className:"ImageGalleryItem-image",onClick:m}),l&&Object(a.jsx)(_,{onClose:m,src:c,alt:n})]})}var I=n(24),S=n.n(I);var C=function(e){var t=e.images;return Object(a.jsx)("ul",{className:S.a.ImageGallery,children:t.map((function(e){return Object(a.jsx)(w,{src:e.webformatURL,alt:e.tags,largeImageUrl:e.largeImageURL},e.id)}))})};var N={fetchImages:function(e,t){return fetch("https://pixabay.com/api/?q=".concat(e,"&page=").concat(t,"&key=").concat("19076419-9578a5b9e86945eec97e7243e","&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.ok?e.json():Promise.reject(new Error("Error"))}))}},k=n(25),E=n(26),F=n.n(E);function B(e){var t=e.onClick;return Object(a.jsx)("button",{onClick:function(){t(),k.animateScroll.scrollToBottom()},className:F.a.Button,type:"button",children:"Load more"})}var L=n(27),P=n.n(L),D=(n(67),n(28)),G=n.n(D);function M(){return Object(a.jsx)(P.a,{className:G.a.loader,type:"Grid",color:"#00BFFF",height:80,width:80})}n(68);var U="idle",q="pending",T="resolved",V="rejected";function J(e){var t=e.imageName,n=e.prevImg,c=Object(r.useState)([]),o=Object(i.a)(c,2),s=o[0],l=o[1],u=Object(r.useState)(U),j=Object(i.a)(u,2),b=j[0],d=j[1],f=Object(r.useState)(null),h=Object(i.a)(f,2),O=h[0],p=h[1],v=Object(r.useState)(1),x=Object(i.a)(v,2),y=x[0],_=x[1];return Object(r.useEffect)((function(){t!==n&&(l([]),_(1))}),[t,n]),Object(r.useEffect)((function(){""!==n?N.fetchImages(t,y).then((function(e){return 0!==e.total?(l((function(t){return[].concat(Object(m.a)(t),Object(m.a)(e.hits))})),void d(T)):Promise.reject(new Error("Invalid request"))})).catch((function(e){return d(V)}),p({error:O})):console.log("no such images found")}),[t,y,n]),b===U?Object(a.jsx)("p",{children:"Please, enter the search query"}):b===q?Object(a.jsx)(M,{}):b===V?Object(a.jsx)(g,{message:O.message}):b===T?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(C,{images:s}),Object(a.jsx)(B,{onClick:_(y+1)})]}):void 0}function K(){var e=Object(r.useState)(""),t=Object(i.a)(e,2),n=t[0],c=t[1],o=Object(r.useRef)("");Object(r.useEffect)((function(){o.current=n}));var s=o.current;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(u,{onSubmit:function(e){c(e)}}),Object(a.jsx)(J,{imageName:n,prevImg:s}),Object(a.jsx)(l.a,{})]})}var R=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,72)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),c(e),o(e)}))};s.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(K,{})}),document.getElementById("root")),R()}},[[69,1,2]]]);
//# sourceMappingURL=main.55b839bd.chunk.js.map