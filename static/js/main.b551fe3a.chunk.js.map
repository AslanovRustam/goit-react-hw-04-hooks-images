{"version":3,"sources":["Modal/modal.module.css","ImagesErrorView/imageErrorView.module.css","ImageGallery/imagegallery.module.css","Button/button.module.css","Loader/loader.module.css","Searchbar/Searchbar.js","error.jpg","ImagesErrorView/ImagesErrorView.js","Modal/Modal.js","ImageGalleryItem/ImageGalleryItem.js","ImageGallery/Imagegallery.js","ImagesApi.js","Button/Button.js","Loader/Loader.js","ImagesInfo/ImagesInfo.js","App.js","reportWebVitals.js","index.js"],"names":["module","exports","Searchbar","onSubmit","useState","image","setImage","className","event","preventDefault","trim","toast","type","name","value","onChange","currentTarget","toLowerCase","autocomplete","autofocus","placeholder","ImagesErrorView","message","s","error","src","modalRoot","document","querySelector","Modal","handleKeyDown","e","code","props","onClose","handleBackdropClick","target","console","log","window","addEventListener","this","removeEventListener","alt","createPortal","Overlay","onClick","largeImage","Component","ImageGalleryItem","largeImageUrl","showModal","setShowmodal","toggleModal","ImageGallery","images","map","webformatURL","tags","largeImageURL","id","api","fetchImages","page","fetch","then","response","ok","json","Promise","reject","Error","useStyles","makeStyles","theme","root","margin","spacing","ButtonFunc","scroll","scrollToBottom","Button","ImagePendingView","loader","color","height","width","Status","ImagesInfo","imgItem","prevName","setImages","status","setStatus","setPage","useEffect","fetchImageGallery","Api","newImages","total","prevState","hits","catch","App","prevImageRef","useRef","current","prevImageName","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.b551fe3a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"modal_Overlay__2nrvV\",\"largeImage\":\"modal_largeImage__1ASpg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"imageErrorView_error__1vxCX\",\"defaultNotifeImages\":\"imageErrorView_defaultNotifeImages__3hPfJ\",\"imageClass\":\"imageErrorView_imageClass__2Z7te\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"imagegallery_ImageGallery__34v66\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"button_Button__2ChCb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"loader_loader__inked\"};","import { useState } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nfunction Searchbar({ onSubmit }) {\r\n  const [image, setImage] = useState(\"\");\r\n\r\n  //получение значения input\r\n  const handleNameChange = (event) => {\r\n    // const imageQuery = event.currentTarget.value.toLowerCase();\r\n    setImage(event.currentTarget.value.toLowerCase());\r\n  };\r\n  //отправка значения из формы\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    if (image.trim() === \"\") {\r\n      toast(\"Please enter the query!\");\r\n      return;\r\n    }\r\n    // this.props.onSubmit - вызывает props из App под именем onSubmit\r\n    onSubmit(image);\r\n    setImage(\"\");\r\n  };\r\n  return (\r\n    <header className=\"Searchbar\">\r\n      <form className=\"SearchForm\" onSubmit={handleSubmit}>\r\n        <button type=\"submit\" className=\"SearchForm-button\">\r\n          <span className=\"SearchForm-button-label\">Search</span>\r\n        </button>\r\n\r\n        <input\r\n          className=\"SearchForm-input\"\r\n          type=\"text\"\r\n          name=\"imageName\"\r\n          value={image}\r\n          onChange={handleNameChange}\r\n          autocomplete=\"off\"\r\n          autofocus\r\n          placeholder=\"Search images and photos\"\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Searchbar;\r\n","export default __webpack_public_path__ + \"static/media/error.db3241d5.jpg\";","import error from \"../error.jpg\";\r\nimport s from \"../ImagesErrorView/imageErrorView.module.css\";\r\n\r\nexport default function ImagesErrorView({ message }) {\r\n  return (\r\n    <div>\r\n      <img className={s.error} src={error} />\r\n\r\n      <p>No such image finded...</p>\r\n    </div>\r\n  );\r\n}\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { createPortal } from 'react-dom';\r\nimport s from '../Modal/modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport default class Modal extends Component {\r\n  componentDidMount() {\r\n    console.log('Modal componentDidMount');\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n  componentWillUnmount() {\r\n    console.log('Modal componentWillUnmount');\r\n\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = e => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { src, alt } = this.props;\r\n    return createPortal(\r\n      <div className={s.Overlay} onClick={this.handleBackdropClick}>\r\n        <div className={s.Modal}>\r\n          <img className={s.largeImage} src={src} alt={alt} />\r\n        </div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n","import { useState } from \"react\";\r\nimport Modal from \"../Modal/Modal\";\r\n\r\nexport default function ImageGalleryItem({ src, alt, largeImageUrl }) {\r\n  const [showModal, setShowmodal] = useState(false);\r\n\r\n  const toggleModal = () => setShowmodal(!showModal);\r\n\r\n  return (\r\n    <li className=\"ImageGalleryItem\">\r\n      <img\r\n        src={src}\r\n        alt={alt}\r\n        className=\"ImageGalleryItem-image\"\r\n        onClick={toggleModal}\r\n      />\r\n      {showModal && (\r\n        <Modal onClose={toggleModal} src={largeImageUrl} alt={alt} />\r\n      )}\r\n    </li>\r\n  );\r\n}\r\n","import PropTypes from \"prop-types\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\nimport s from \"../ImageGallery/imagegallery.module.css\";\r\n\r\nfunction ImageGallery({ images }) {\r\n  return (\r\n    <ul className={s.ImageGallery}>\r\n      {images.map((image) => (\r\n        <ImageGalleryItem\r\n          src={image.webformatURL}\r\n          alt={image.tags}\r\n          largeImageUrl={image.largeImageURL}\r\n          key={image.id}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.array.isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","function fetchImages(name, page) {\r\n  const KEY = '19076419-9578a5b9e86945eec97e7243e';\r\n\r\n  return fetch(\r\n    `https://pixabay.com/api/?q=${name}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`,\r\n  ).then(response => {\r\n    if (response.ok) {\r\n      return response.json();\r\n    }\r\n\r\n    return Promise.reject(new Error('Error'));\r\n  });\r\n}\r\n\r\nconst api = { fetchImages };\r\n\r\nexport default api;\r\n","import { animateScroll as scroll } from \"react-scroll\";\r\nimport s from \"../Button/button.module.css\";\r\nimport PropTypes from \"prop-types\";\r\nimport React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    \"& > *\": {\r\n      margin: theme.spacing(1),\r\n    },\r\n  },\r\n}));\r\n\r\nexport default function ButtonFunc({ onClick }) {\r\n  const classes = useStyles();\r\n  const scrollPageOnBtnMore = () => {\r\n    onClick();\r\n    scroll.scrollToBottom();\r\n  };\r\n\r\n  return (\r\n    // <Button variant=\"contained\" color=\"primary\" onClick={scrollPageOnBtnMore}>\r\n    //   Load more\r\n    // </Button>\r\n    <button onClick={scrollPageOnBtnMore} className={s.Button} type=\"button\">\r\n      Load more\r\n    </button>\r\n  );\r\n}\r\n\r\nButtonFunc.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n","import Loader from \"react-loader-spinner\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport s from \"../Loader/loader.module.css\";\r\n\r\nexport default function ImagePendingView() {\r\n  return (\r\n    <Loader\r\n      className={s.loader}\r\n      type=\"Grid\"\r\n      color=\"#00BFFF\"\r\n      height={80}\r\n      width={80}\r\n    />\r\n  );\r\n}\r\n","import { useState, useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport ImagesErrorView from \"../ImagesErrorView/ImagesErrorView\";\r\nimport ImageGallery from \"../ImageGallery/Imagegallery\";\r\nimport Api from \"../ImagesApi\";\r\nimport ButtonFunc from \"../Button/Button\";\r\nimport Loader from \"../Loader/Loader\";\r\nimport s from \"../ImagesInfo/image.modal.css\";\r\n\r\nconst Status = {\r\n  IDLE: \"idle\",\r\n  PENDING: \"pending\",\r\n  RESOLVED: \"resolved\",\r\n  REJECTED: \"rejected\",\r\n};\r\n////////////////////////////////////////////\r\nexport default function ImagesInfo({ imgItem, prevName }) {\r\n  const [images, setImages] = useState([]);\r\n  const [status, setStatus] = useState(Status.IDLE);\r\n  const [error, setError] = useState(null);\r\n  const [page, setPage] = useState(1);\r\n\r\n  const resetImages = () => {\r\n    // if (prevProps.imgItem !== props.imgItem) {\r\n    ///// обнуляет массив фото и сбрасывает страницу\r\n    setImages([]);\r\n    setPage(1);\r\n  };\r\n\r\n  useEffect(() => {\r\n    // resetImages();\r\n    if (!imgItem) {\r\n      return;\r\n    }\r\n    fetchImageGallery();\r\n  }, [imgItem, page]);\r\n\r\n  useEffect(() => {\r\n    setImages([]);\r\n    setPage(1);\r\n  }, [prevName]);\r\n\r\n  const fetchImageGallery = () => {\r\n    Api.fetchImages(imgItem, page)\r\n      // .then((images) => this.setState({ images, status: \"resolved\" }))\r\n      .then((newImages) => {\r\n        if (newImages.total !== 0) {\r\n          setImages((prevState) => [...prevState, ...newImages.hits]);\r\n          setStatus(Status.RESOLVED);\r\n          return;\r\n        }\r\n        return Promise.reject(new Error(\"Invalid request\"));\r\n      })\r\n      .catch((error) => setStatus(Status.REJECTED));\r\n  };\r\n\r\n  const onClickLoadMoreBtn = () => {\r\n    setPage((prevState) => prevState + 1);\r\n  };\r\n\r\n  if (status === Status.IDLE) {\r\n    return <p>Please, enter the search query</p>;\r\n  }\r\n  if (status === Status.PENDING) {\r\n    return <Loader />;\r\n  }\r\n  if (status === Status.REJECTED) {\r\n    return <ImagesErrorView />;\r\n  }\r\n  if (status === Status.RESOLVED) {\r\n    return (\r\n      <>\r\n        <ImageGallery images={images} />\r\n        <ButtonFunc onClick={onClickLoadMoreBtn} />\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import { useState, useEffect, useRef } from \"react\";\nimport \"./App.css\";\nimport \"./index.css\";\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport Searchbar from \"./Searchbar/Searchbar\";\nimport ImagesInfo from \"./ImagesInfo/ImagesInfo\";\n// import ImageGallery from './ImageGallery/Imagegallery';\n\nexport default function App() {\n  const [image, setImage] = useState(\"\");\n\n  // useEffect(() => {\n  //   if (image !== \"\") {\n  //     setImage(\"\");\n  //   }\n  // });\n  const prevImageRef = useRef(\"\");\n  useEffect(() => {\n    prevImageRef.current = image;\n  });\n  const prevImageName = prevImageRef.current;\n  // const handleFormSubmit = (image) => {\n  //   setImage(image);\n  // };\n  return (\n    <>\n      <Searchbar onSubmit={setImage} />\n      <ImagesInfo imgItem={image} prevName={prevImageName} />\n      <ToastContainer />\n    </>\n  );\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}