(this["webpackJsonpgoit-react-hw-04-image-finde"]=this["webpackJsonpgoit-react-hw-04-image-finde"]||[]).push([[0],{13:function(e,t,n){e.exports={Overlay:"modal_Overlay__2nrvV",largeImage:"modal_largeImage__1ASpg"}},20:function(e,t,n){},24:function(e,t,n){e.exports={error:"imageErrorView_error__1vxCX",defaultNotifeImages:"imageErrorView_defaultNotifeImages__3hPfJ",imageClass:"imageErrorView_imageClass__2Z7te"}},27:function(e,t,n){e.exports={ImageGallery:"imagegallery_ImageGallery__34v66"}},29:function(e,t,n){e.exports={Button:"button_Button__2ChCb"}},31:function(e,t,n){e.exports={loader:"loader_loader__inked"}},39:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(0),c=n.n(r),o=n(3),i=n.n(o),s=(n(20),n(4)),l=(n(39),n(12));n(40);var u=function(e){var t=e.onSubmit,n=Object(r.useState)(""),c=Object(s.a)(n,2),o=c[0],i=c[1];return Object(a.jsx)("header",{className:"Searchbar",children:Object(a.jsxs)("form",{className:"SearchForm",onSubmit:function(e){e.preventDefault(),""!==o.trim()?(t(o),i("")):Object(l.b)("Please enter the query!")},children:[Object(a.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(a.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(a.jsx)("input",{className:"SearchForm-input",type:"text",name:"imageName",value:o,onChange:function(e){i(e.currentTarget.value.toLowerCase())},autocomplete:"off",autofocus:!0,placeholder:"Search images and photos"})]})})},m=n(19),j=n.p+"static/media/error.db3241d5.jpg",b=n(24),d=n.n(b);function f(e){e.message;return Object(a.jsxs)("div",{children:[Object(a.jsx)("img",{className:d.a.error,src:j}),Object(a.jsx)("p",{children:"No such image finded..."})]})}var g=n(25),h=n(26),O=n(33),p=n(32),v=n(13),x=n.n(v),y=document.querySelector("#modal-root"),_=function(e){Object(O.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(g.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handleKeyDown=function(t){"Escape"===t.code&&e.props.onClose()},e.handleBackdropClick=function(t){t.currentTarget===t.target&&e.props.onClose()},e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){console.log("Modal componentDidMount"),window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){console.log("Modal componentWillUnmount"),window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){var e=this.props,t=e.src,n=e.alt;return Object(o.createPortal)(Object(a.jsx)("div",{className:x.a.Overlay,onClick:this.handleBackdropClick,children:Object(a.jsx)("div",{className:x.a.Modal,children:Object(a.jsx)("img",{className:x.a.largeImage,src:t,alt:n})})}),y)}}]),n}(r.Component);function w(e){var t=e.src,n=e.alt,c=e.largeImageUrl,o=Object(r.useState)(!1),i=Object(s.a)(o,2),l=i[0],u=i[1],m=function(){return u(!l)};return Object(a.jsxs)("li",{className:"ImageGalleryItem",children:[Object(a.jsx)("img",{src:t,alt:n,className:"ImageGalleryItem-image",onClick:m}),l&&Object(a.jsx)(_,{onClose:m,src:c,alt:n})]})}var I=n(27),S=n.n(I);var C=function(e){var t=e.images;return Object(a.jsx)("ul",{className:S.a.ImageGallery,children:t.map((function(e){return Object(a.jsx)(w,{src:e.webformatURL,alt:e.tags,largeImageUrl:e.largeImageURL},e.id)}))})};var N={fetchImages:function(e,t){return fetch("https://pixabay.com/api/?q=".concat(e,"&page=").concat(t,"&key=").concat("19076419-9578a5b9e86945eec97e7243e","&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.ok?e.json():Promise.reject(new Error("Error"))}))}},k=n(28),E=n(29),F=n.n(E),B=n(86),L=Object(B.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}}}}));function P(e){var t=e.onClick;L();return Object(a.jsx)("button",{onClick:function(){t(),k.animateScroll.scrollToBottom()},className:F.a.Button,type:"button",children:"Load more"})}var D=n(30),G=n.n(D),M=(n(70),n(31)),U=n.n(M);function q(){return Object(a.jsx)(G.a,{className:U.a.loader,type:"Grid",color:"#00BFFF",height:80,width:80})}n(71);var T="idle",V="pending",J="resolved",K="rejected";function R(e){var t=e.imgItem,n=e.prevName,c=Object(r.useState)([]),o=Object(s.a)(c,2),i=o[0],l=o[1],u=Object(r.useState)(T),j=Object(s.a)(u,2),b=j[0],d=j[1],g=Object(r.useState)(null),h=Object(s.a)(g,2),O=(h[0],h[1],Object(r.useState)(1)),p=Object(s.a)(O,2),v=p[0],x=p[1];Object(r.useEffect)((function(){t&&y()}),[t,v]),Object(r.useEffect)((function(){l([]),x(1)}),[n]);var y=function(){N.fetchImages(t,v).then((function(e){return 0!==e.total?(l((function(t){return[].concat(Object(m.a)(t),Object(m.a)(e.hits))})),void d(J)):Promise.reject(new Error("Invalid request"))})).catch((function(e){return d(K)}))};return b===T?Object(a.jsx)("p",{children:"Please, enter the search query"}):b===V?Object(a.jsx)(q,{}):b===K?Object(a.jsx)(f,{}):b===J?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(C,{images:i}),Object(a.jsx)(P,{onClick:function(){x((function(e){return e+1}))}})]}):void 0}function A(){var e=Object(r.useState)(""),t=Object(s.a)(e,2),n=t[0],c=t[1],o=Object(r.useRef)("");Object(r.useEffect)((function(){o.current=n}));var i=o.current;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(u,{onSubmit:c}),Object(a.jsx)(R,{imgItem:n,prevName:i}),Object(a.jsx)(l.a,{})]})}var W=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,87)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),c(e),o(e)}))};i.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(A,{})}),document.getElementById("root")),W()}},[[72,1,2]]]);
//# sourceMappingURL=main.b551fe3a.chunk.js.map